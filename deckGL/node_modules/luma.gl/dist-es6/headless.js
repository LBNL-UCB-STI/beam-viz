import './init';
import isBrowser from './utils/is-browser';
import luma from './init';

if (!isBrowser) {
  luma.globals.headlessGL = require('gl');
  luma.globals.headlessTypes = require('gl/wrap');
  if (!luma.globals.headlessTypes.WebGLRenderingContext) {
    throw new Error('Could not access headless WebGL type definitions');
  }
}

// Make sure luma.gl initializes with valid types
require('./webgl/webgl-types');

// Now import standard luma.gl package
// module.exports = require('./index');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9oZWFkbGVzcy5qcyJdLCJuYW1lcyI6WyJpc0Jyb3dzZXIiLCJsdW1hIiwiZ2xvYmFscyIsImhlYWRsZXNzR0wiLCJyZXF1aXJlIiwiaGVhZGxlc3NUeXBlcyIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsIkVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFFBQVA7QUFDQSxPQUFPQSxTQUFQLE1BQXNCLG9CQUF0QjtBQUNBLE9BQU9DLElBQVAsTUFBaUIsUUFBakI7O0FBRUEsSUFBSSxDQUFDRCxTQUFMLEVBQWdCO0FBQ2RDLE9BQUtDLE9BQUwsQ0FBYUMsVUFBYixHQUEwQkMsUUFBUSxJQUFSLENBQTFCO0FBQ0FILE9BQUtDLE9BQUwsQ0FBYUcsYUFBYixHQUE2QkQsUUFBUSxTQUFSLENBQTdCO0FBQ0EsTUFBSSxDQUFDSCxLQUFLQyxPQUFMLENBQWFHLGFBQWIsQ0FBMkJDLHFCQUFoQyxFQUF1RDtBQUNyRCxVQUFNLElBQUlDLEtBQUosQ0FBVSxrREFBVixDQUFOO0FBQ0Q7QUFDRjs7QUFFRDtBQUNBSCxRQUFRLHFCQUFSOztBQUVBO0FBQ0EiLCJmaWxlIjoiaGVhZGxlc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vaW5pdCc7XG5pbXBvcnQgaXNCcm93c2VyIGZyb20gJy4vdXRpbHMvaXMtYnJvd3Nlcic7XG5pbXBvcnQgbHVtYSBmcm9tICcuL2luaXQnO1xuXG5pZiAoIWlzQnJvd3Nlcikge1xuICBsdW1hLmdsb2JhbHMuaGVhZGxlc3NHTCA9IHJlcXVpcmUoJ2dsJyk7XG4gIGx1bWEuZ2xvYmFscy5oZWFkbGVzc1R5cGVzID0gcmVxdWlyZSgnZ2wvd3JhcCcpO1xuICBpZiAoIWx1bWEuZ2xvYmFscy5oZWFkbGVzc1R5cGVzLldlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGFjY2VzcyBoZWFkbGVzcyBXZWJHTCB0eXBlIGRlZmluaXRpb25zJyk7XG4gIH1cbn1cblxuLy8gTWFrZSBzdXJlIGx1bWEuZ2wgaW5pdGlhbGl6ZXMgd2l0aCB2YWxpZCB0eXBlc1xucmVxdWlyZSgnLi93ZWJnbC93ZWJnbC10eXBlcycpO1xuXG4vLyBOb3cgaW1wb3J0IHN0YW5kYXJkIGx1bWEuZ2wgcGFja2FnZVxuLy8gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2luZGV4Jyk7XG4iXX0=