import { global } from './utils/globals';
import log from './utils/log';

// Version detection
// TODO - this imports a rather large JSON file, we only need one field
import { version } from '../../package.json';

var STARTUP_MESSAGE = 'set deck.log.priority=2 to trace attribute updates';

if (global.deck && global.deck.VERSION !== version) {
  throw new Error('deck.gl - multiple versions detected: ' + global.deck.VERSION + ' vs ' + version);
}

if (!global.deck) {
  /* global console */
  /* eslint-disable no-console */
  console.log('deck.gl ' + version + ' - ' + STARTUP_MESSAGE);

  global.deck = global.deck || {
    VERSION: version,
    log: log
  };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvaW5pdC5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJsb2ciLCJ2ZXJzaW9uIiwiU1RBUlRVUF9NRVNTQUdFIiwiZGVjayIsIlZFUlNJT04iLCJFcnJvciIsImNvbnNvbGUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVFBLE1BQVIsUUFBcUIsaUJBQXJCO0FBQ0EsT0FBT0MsR0FBUCxNQUFnQixhQUFoQjs7QUFFQTtBQUNBO0FBQ0EsU0FBUUMsT0FBUixRQUFzQixvQkFBdEI7O0FBRUEsSUFBTUMsa0JBQWtCLG9EQUF4Qjs7QUFFQSxJQUFJSCxPQUFPSSxJQUFQLElBQWVKLE9BQU9JLElBQVAsQ0FBWUMsT0FBWixLQUF3QkgsT0FBM0MsRUFBb0Q7QUFDbEQsUUFBTSxJQUFJSSxLQUFKLDRDQUFtRE4sT0FBT0ksSUFBUCxDQUFZQyxPQUEvRCxZQUE2RUgsT0FBN0UsQ0FBTjtBQUNEOztBQUVELElBQUksQ0FBQ0YsT0FBT0ksSUFBWixFQUFrQjtBQUNoQjtBQUNBO0FBQ0FHLFVBQVFOLEdBQVIsY0FBdUJDLE9BQXZCLFdBQW9DQyxlQUFwQzs7QUFFQUgsU0FBT0ksSUFBUCxHQUFjSixPQUFPSSxJQUFQLElBQWU7QUFDM0JDLGFBQVNILE9BRGtCO0FBRTNCRDtBQUYyQixHQUE3QjtBQUlEIiwiZmlsZSI6ImluaXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dsb2JhbH0gZnJvbSAnLi91dGlscy9nbG9iYWxzJztcbmltcG9ydCBsb2cgZnJvbSAnLi91dGlscy9sb2cnO1xuXG4vLyBWZXJzaW9uIGRldGVjdGlvblxuLy8gVE9ETyAtIHRoaXMgaW1wb3J0cyBhIHJhdGhlciBsYXJnZSBKU09OIGZpbGUsIHdlIG9ubHkgbmVlZCBvbmUgZmllbGRcbmltcG9ydCB7dmVyc2lvbn0gZnJvbSAnLi4vLi4vcGFja2FnZS5qc29uJztcblxuY29uc3QgU1RBUlRVUF9NRVNTQUdFID0gJ3NldCBkZWNrLmxvZy5wcmlvcml0eT0yIHRvIHRyYWNlIGF0dHJpYnV0ZSB1cGRhdGVzJztcblxuaWYgKGdsb2JhbC5kZWNrICYmIGdsb2JhbC5kZWNrLlZFUlNJT04gIT09IHZlcnNpb24pIHtcbiAgdGhyb3cgbmV3IEVycm9yKGBkZWNrLmdsIC0gbXVsdGlwbGUgdmVyc2lvbnMgZGV0ZWN0ZWQ6ICR7Z2xvYmFsLmRlY2suVkVSU0lPTn0gdnMgJHt2ZXJzaW9ufWApO1xufVxuXG5pZiAoIWdsb2JhbC5kZWNrKSB7XG4gIC8qIGdsb2JhbCBjb25zb2xlICovXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgY29uc29sZS5sb2coYGRlY2suZ2wgJHt2ZXJzaW9ufSAtICR7U1RBUlRVUF9NRVNTQUdFfWApO1xuXG4gIGdsb2JhbC5kZWNrID0gZ2xvYmFsLmRlY2sgfHwge1xuICAgIFZFUlNJT046IHZlcnNpb24sXG4gICAgbG9nXG4gIH07XG59XG4iXX0=