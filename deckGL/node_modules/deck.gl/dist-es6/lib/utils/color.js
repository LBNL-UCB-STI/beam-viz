
// Parse array or string color
export function parseColor(color) {
  if (Array.isArray(color)) {
    if (color.length === 3) {
      return [color[0], color[1], color[2], 255];
    }
    return color;
  }
  if (typeof color === 'string') {
    return parseHexColor(color);
  }
  return null;
}

// Parse a hex color
export function parseHexColor(color) {
  var array = new Uint8ClampedArray(4);
  if (color.length === 7) {
    var value = parseInt(color.substring(1), 16);
    array[0] = value / 65536;
    array[1] = value / 256 % 256;
    array[2] = value % 256;
    array[3] = 255;
  } else if (color.length === 9) {
    var _value = parseInt(color.substring(1), 16);
    array[0] = _value / 16777216;
    array[1] = _value / 65536 % 256;
    array[2] = _value / 256 % 256;
    array[3] = _value % 256;
  }
  return array;
}

export function setOpacity(color) {
  var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 127;

  return [color[0], color[1], color[2], opacity];
}

export function applyOpacity(color) {
  var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 127;

  return [color[0], color[1], color[2], opacity];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvdXRpbHMvY29sb3IuanMiXSwibmFtZXMiOlsicGFyc2VDb2xvciIsImNvbG9yIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwicGFyc2VIZXhDb2xvciIsImFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJ2YWx1ZSIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwic2V0T3BhY2l0eSIsIm9wYWNpdHkiLCJhcHBseU9wYWNpdHkiXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBLE9BQU8sU0FBU0EsVUFBVCxDQUFvQkMsS0FBcEIsRUFBMkI7QUFDaEMsTUFBSUMsTUFBTUMsT0FBTixDQUFjRixLQUFkLENBQUosRUFBMEI7QUFDeEIsUUFBSUEsTUFBTUcsTUFBTixLQUFpQixDQUFyQixFQUF3QjtBQUN0QixhQUFPLENBQUNILE1BQU0sQ0FBTixDQUFELEVBQVdBLE1BQU0sQ0FBTixDQUFYLEVBQXFCQSxNQUFNLENBQU4sQ0FBckIsRUFBK0IsR0FBL0IsQ0FBUDtBQUNEO0FBQ0QsV0FBT0EsS0FBUDtBQUNEO0FBQ0QsTUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQzdCLFdBQU9JLGNBQWNKLEtBQWQsQ0FBUDtBQUNEO0FBQ0QsU0FBTyxJQUFQO0FBQ0Q7O0FBRUQ7QUFDQSxPQUFPLFNBQVNJLGFBQVQsQ0FBdUJKLEtBQXZCLEVBQThCO0FBQ25DLE1BQU1LLFFBQVEsSUFBSUMsaUJBQUosQ0FBc0IsQ0FBdEIsQ0FBZDtBQUNBLE1BQUlOLE1BQU1HLE1BQU4sS0FBaUIsQ0FBckIsRUFBd0I7QUFDdEIsUUFBTUksUUFBUUMsU0FBU1IsTUFBTVMsU0FBTixDQUFnQixDQUFoQixDQUFULEVBQTZCLEVBQTdCLENBQWQ7QUFDQUosVUFBTSxDQUFOLElBQVdFLFFBQVEsS0FBbkI7QUFDQUYsVUFBTSxDQUFOLElBQVlFLFFBQVEsR0FBVCxHQUFnQixHQUEzQjtBQUNBRixVQUFNLENBQU4sSUFBV0UsUUFBUSxHQUFuQjtBQUNBRixVQUFNLENBQU4sSUFBVyxHQUFYO0FBQ0QsR0FORCxNQU1PLElBQUlMLE1BQU1HLE1BQU4sS0FBaUIsQ0FBckIsRUFBd0I7QUFDN0IsUUFBTUksU0FBUUMsU0FBU1IsTUFBTVMsU0FBTixDQUFnQixDQUFoQixDQUFULEVBQTZCLEVBQTdCLENBQWQ7QUFDQUosVUFBTSxDQUFOLElBQVdFLFNBQVEsUUFBbkI7QUFDQUYsVUFBTSxDQUFOLElBQVlFLFNBQVEsS0FBVCxHQUFrQixHQUE3QjtBQUNBRixVQUFNLENBQU4sSUFBWUUsU0FBUSxHQUFULEdBQWdCLEdBQTNCO0FBQ0FGLFVBQU0sQ0FBTixJQUFXRSxTQUFRLEdBQW5CO0FBQ0Q7QUFDRCxTQUFPRixLQUFQO0FBQ0Q7O0FBRUQsT0FBTyxTQUFTSyxVQUFULENBQW9CVixLQUFwQixFQUEwQztBQUFBLE1BQWZXLE9BQWUsdUVBQUwsR0FBSzs7QUFDL0MsU0FBTyxDQUFDWCxNQUFNLENBQU4sQ0FBRCxFQUFXQSxNQUFNLENBQU4sQ0FBWCxFQUFxQkEsTUFBTSxDQUFOLENBQXJCLEVBQStCVyxPQUEvQixDQUFQO0FBQ0Q7O0FBRUQsT0FBTyxTQUFTQyxZQUFULENBQXNCWixLQUF0QixFQUE0QztBQUFBLE1BQWZXLE9BQWUsdUVBQUwsR0FBSzs7QUFDakQsU0FBTyxDQUFDWCxNQUFNLENBQU4sQ0FBRCxFQUFXQSxNQUFNLENBQU4sQ0FBWCxFQUFxQkEsTUFBTSxDQUFOLENBQXJCLEVBQStCVyxPQUEvQixDQUFQO0FBQ0QiLCJmaWxlIjoiY29sb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIFBhcnNlIGFycmF5IG9yIHN0cmluZyBjb2xvclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29sb3IoY29sb3IpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgaWYgKGNvbG9yLmxlbmd0aCA9PT0gMykge1xuICAgICAgcmV0dXJuIFtjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCAyNTVdO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGFyc2VIZXhDb2xvcihjb2xvcik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFBhcnNlIGEgaGV4IGNvbG9yXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VIZXhDb2xvcihjb2xvcikge1xuICBjb25zdCBhcnJheSA9IG5ldyBVaW50OENsYW1wZWRBcnJheSg0KTtcbiAgaWYgKGNvbG9yLmxlbmd0aCA9PT0gNykge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDEpLCAxNik7XG4gICAgYXJyYXlbMF0gPSB2YWx1ZSAvIDY1NTM2O1xuICAgIGFycmF5WzFdID0gKHZhbHVlIC8gMjU2KSAlIDI1NjtcbiAgICBhcnJheVsyXSA9IHZhbHVlICUgMjU2O1xuICAgIGFycmF5WzNdID0gMjU1O1xuICB9IGVsc2UgaWYgKGNvbG9yLmxlbmd0aCA9PT0gOSkge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDEpLCAxNik7XG4gICAgYXJyYXlbMF0gPSB2YWx1ZSAvIDE2Nzc3MjE2O1xuICAgIGFycmF5WzFdID0gKHZhbHVlIC8gNjU1MzYpICUgMjU2O1xuICAgIGFycmF5WzJdID0gKHZhbHVlIC8gMjU2KSAlIDI1NjtcbiAgICBhcnJheVszXSA9IHZhbHVlICUgMjU2O1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE9wYWNpdHkoY29sb3IsIG9wYWNpdHkgPSAxMjcpIHtcbiAgcmV0dXJuIFtjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCBvcGFjaXR5XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5T3BhY2l0eShjb2xvciwgb3BhY2l0eSA9IDEyNykge1xuICByZXR1cm4gW2NvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIG9wYWNpdHldO1xufVxuXG4iXX0=