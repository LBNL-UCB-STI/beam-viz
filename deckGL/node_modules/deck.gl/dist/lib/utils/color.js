'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseColor = parseColor;
exports.parseHexColor = parseHexColor;
exports.setOpacity = setOpacity;
exports.applyOpacity = applyOpacity;

// Parse array or string color
function parseColor(color) {
  if (Array.isArray(color)) {
    if (color.length === 3) {
      return [color[0], color[1], color[2], 255];
    }
    return color;
  }
  if (typeof color === 'string') {
    return parseHexColor(color);
  }
  return null;
}

// Parse a hex color
function parseHexColor(color) {
  var array = new Uint8ClampedArray(4);
  if (color.length === 7) {
    var value = parseInt(color.substring(1), 16);
    array[0] = value / 65536;
    array[1] = value / 256 % 256;
    array[2] = value % 256;
    array[3] = 255;
  } else if (color.length === 9) {
    var _value = parseInt(color.substring(1), 16);
    array[0] = _value / 16777216;
    array[1] = _value / 65536 % 256;
    array[2] = _value / 256 % 256;
    array[3] = _value % 256;
  }
  return array;
}

function setOpacity(color) {
  var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 127;

  return [color[0], color[1], color[2], opacity];
}

function applyOpacity(color) {
  var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 127;

  return [color[0], color[1], color[2], opacity];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvdXRpbHMvY29sb3IuanMiXSwibmFtZXMiOlsicGFyc2VDb2xvciIsInBhcnNlSGV4Q29sb3IiLCJzZXRPcGFjaXR5IiwiYXBwbHlPcGFjaXR5IiwiY29sb3IiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJhcnJheSIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwidmFsdWUiLCJwYXJzZUludCIsInN1YnN0cmluZyIsIm9wYWNpdHkiXSwibWFwcGluZ3MiOiI7Ozs7O1FBRWdCQSxVLEdBQUFBLFU7UUFjQUMsYSxHQUFBQSxhO1FBa0JBQyxVLEdBQUFBLFU7UUFJQUMsWSxHQUFBQSxZOztBQXJDaEI7QUFDTyxTQUFTSCxVQUFULENBQW9CSSxLQUFwQixFQUEyQjtBQUNoQyxNQUFJQyxNQUFNQyxPQUFOLENBQWNGLEtBQWQsQ0FBSixFQUEwQjtBQUN4QixRQUFJQSxNQUFNRyxNQUFOLEtBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLGFBQU8sQ0FBQ0gsTUFBTSxDQUFOLENBQUQsRUFBV0EsTUFBTSxDQUFOLENBQVgsRUFBcUJBLE1BQU0sQ0FBTixDQUFyQixFQUErQixHQUEvQixDQUFQO0FBQ0Q7QUFDRCxXQUFPQSxLQUFQO0FBQ0Q7QUFDRCxNQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0IsV0FBT0gsY0FBY0csS0FBZCxDQUFQO0FBQ0Q7QUFDRCxTQUFPLElBQVA7QUFDRDs7QUFFRDtBQUNPLFNBQVNILGFBQVQsQ0FBdUJHLEtBQXZCLEVBQThCO0FBQ25DLE1BQU1JLFFBQVEsSUFBSUMsaUJBQUosQ0FBc0IsQ0FBdEIsQ0FBZDtBQUNBLE1BQUlMLE1BQU1HLE1BQU4sS0FBaUIsQ0FBckIsRUFBd0I7QUFDdEIsUUFBTUcsUUFBUUMsU0FBU1AsTUFBTVEsU0FBTixDQUFnQixDQUFoQixDQUFULEVBQTZCLEVBQTdCLENBQWQ7QUFDQUosVUFBTSxDQUFOLElBQVdFLFFBQVEsS0FBbkI7QUFDQUYsVUFBTSxDQUFOLElBQVlFLFFBQVEsR0FBVCxHQUFnQixHQUEzQjtBQUNBRixVQUFNLENBQU4sSUFBV0UsUUFBUSxHQUFuQjtBQUNBRixVQUFNLENBQU4sSUFBVyxHQUFYO0FBQ0QsR0FORCxNQU1PLElBQUlKLE1BQU1HLE1BQU4sS0FBaUIsQ0FBckIsRUFBd0I7QUFDN0IsUUFBTUcsU0FBUUMsU0FBU1AsTUFBTVEsU0FBTixDQUFnQixDQUFoQixDQUFULEVBQTZCLEVBQTdCLENBQWQ7QUFDQUosVUFBTSxDQUFOLElBQVdFLFNBQVEsUUFBbkI7QUFDQUYsVUFBTSxDQUFOLElBQVlFLFNBQVEsS0FBVCxHQUFrQixHQUE3QjtBQUNBRixVQUFNLENBQU4sSUFBWUUsU0FBUSxHQUFULEdBQWdCLEdBQTNCO0FBQ0FGLFVBQU0sQ0FBTixJQUFXRSxTQUFRLEdBQW5CO0FBQ0Q7QUFDRCxTQUFPRixLQUFQO0FBQ0Q7O0FBRU0sU0FBU04sVUFBVCxDQUFvQkUsS0FBcEIsRUFBMEM7QUFBQSxNQUFmUyxPQUFlLHVFQUFMLEdBQUs7O0FBQy9DLFNBQU8sQ0FBQ1QsTUFBTSxDQUFOLENBQUQsRUFBV0EsTUFBTSxDQUFOLENBQVgsRUFBcUJBLE1BQU0sQ0FBTixDQUFyQixFQUErQlMsT0FBL0IsQ0FBUDtBQUNEOztBQUVNLFNBQVNWLFlBQVQsQ0FBc0JDLEtBQXRCLEVBQTRDO0FBQUEsTUFBZlMsT0FBZSx1RUFBTCxHQUFLOztBQUNqRCxTQUFPLENBQUNULE1BQU0sQ0FBTixDQUFELEVBQVdBLE1BQU0sQ0FBTixDQUFYLEVBQXFCQSxNQUFNLENBQU4sQ0FBckIsRUFBK0JTLE9BQS9CLENBQVA7QUFDRCIsImZpbGUiOiJjb2xvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gUGFyc2UgYXJyYXkgb3Igc3RyaW5nIGNvbG9yXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvcikge1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICBpZiAoY29sb3IubGVuZ3RoID09PSAzKSB7XG4gICAgICByZXR1cm4gW2NvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIDI1NV07XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBwYXJzZUhleENvbG9yKGNvbG9yKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gUGFyc2UgYSBoZXggY29sb3JcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUhleENvbG9yKGNvbG9yKSB7XG4gIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDQpO1xuICBpZiAoY29sb3IubGVuZ3RoID09PSA3KSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSksIDE2KTtcbiAgICBhcnJheVswXSA9IHZhbHVlIC8gNjU1MzY7XG4gICAgYXJyYXlbMV0gPSAodmFsdWUgLyAyNTYpICUgMjU2O1xuICAgIGFycmF5WzJdID0gdmFsdWUgJSAyNTY7XG4gICAgYXJyYXlbM10gPSAyNTU7XG4gIH0gZWxzZSBpZiAoY29sb3IubGVuZ3RoID09PSA5KSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSksIDE2KTtcbiAgICBhcnJheVswXSA9IHZhbHVlIC8gMTY3NzcyMTY7XG4gICAgYXJyYXlbMV0gPSAodmFsdWUgLyA2NTUzNikgJSAyNTY7XG4gICAgYXJyYXlbMl0gPSAodmFsdWUgLyAyNTYpICUgMjU2O1xuICAgIGFycmF5WzNdID0gdmFsdWUgJSAyNTY7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0T3BhY2l0eShjb2xvciwgb3BhY2l0eSA9IDEyNykge1xuICByZXR1cm4gW2NvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIG9wYWNpdHldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlPcGFjaXR5KGNvbG9yLCBvcGFjaXR5ID0gMTI3KSB7XG4gIHJldHVybiBbY29sb3JbMF0sIGNvbG9yWzFdLCBjb2xvclsyXSwgb3BhY2l0eV07XG59XG5cbiJdfQ==